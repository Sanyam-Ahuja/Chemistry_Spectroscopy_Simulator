{"ast":null,"code":"// Spectroscopy color utilities\n\n// Wavelength ranges for visible spectrum\nexport const SPECTRUM_CONFIG = {\n  violet: {\n    min: 380,\n    max: 450,\n    color: '#8B00FF'\n  },\n  blue: {\n    min: 450,\n    max: 495,\n    color: '#0000FF'\n  },\n  cyan: {\n    min: 495,\n    max: 520,\n    color: '#00FFFF'\n  },\n  green: {\n    min: 520,\n    max: 565,\n    color: '#00FF00'\n  },\n  yellow: {\n    min: 565,\n    max: 590,\n    color: '#FFFF00'\n  },\n  orange: {\n    min: 590,\n    max: 620,\n    color: '#FF8000'\n  },\n  red: {\n    min: 620,\n    max: 780,\n    color: '#FF0000'\n  }\n};\n\n// Complementary color relationships (ideal mode)\nexport const COMPLEMENTARY_COLORS = {\n  violet: {\n    absorbed: '#8B00FF',\n    observed: '#FFFF00'\n  },\n  // Violet absorbs → Yellow observed\n  blue: {\n    absorbed: '#0000FF',\n    observed: '#FF8000'\n  },\n  // Blue absorbs → Orange observed\n  cyan: {\n    absorbed: '#00FFFF',\n    observed: '#FF0000'\n  },\n  // Cyan absorbs → Red observed\n  green: {\n    absorbed: '#00FF00',\n    observed: '#FF00FF'\n  },\n  // Green absorbs → Magenta observed\n  yellow: {\n    absorbed: '#FFFF00',\n    observed: '#8B00FF'\n  },\n  // Yellow absorbs → Violet observed\n  orange: {\n    absorbed: '#FF8000',\n    observed: '#0000FF'\n  },\n  // Orange absorbs → Blue observed\n  red: {\n    absorbed: '#FF0000',\n    observed: '#00FFFF'\n  } // Red absorbs → Cyan observed\n};\n\n// Convert wavelength to RGB color\nexport function wavelengthToRGB(wavelength) {\n  let r = 0,\n    g = 0,\n    b = 0;\n  if (wavelength >= 380 && wavelength < 440) {\n    r = -(wavelength - 440) / (440 - 380);\n    g = 0;\n    b = 1;\n  } else if (wavelength >= 440 && wavelength < 490) {\n    r = 0;\n    g = (wavelength - 440) / (490 - 440);\n    b = 1;\n  } else if (wavelength >= 490 && wavelength < 510) {\n    r = 0;\n    g = 1;\n    b = -(wavelength - 510) / (510 - 490);\n  } else if (wavelength >= 510 && wavelength < 580) {\n    r = (wavelength - 510) / (580 - 510);\n    g = 1;\n    b = 0;\n  } else if (wavelength >= 580 && wavelength < 645) {\n    r = 1;\n    g = -(wavelength - 645) / (645 - 580);\n    b = 0;\n  } else if (wavelength >= 645 && wavelength <= 780) {\n    r = 1;\n    g = 0;\n    b = 0;\n  }\n\n  // Intensity correction for edge wavelengths\n  let factor = 1;\n  if (wavelength >= 380 && wavelength < 420) {\n    factor = 0.3 + 0.7 * (wavelength - 380) / (420 - 380);\n  } else if (wavelength >= 700 && wavelength <= 780) {\n    factor = 0.3 + 0.7 * (780 - wavelength) / (780 - 700);\n  }\n  r = Math.round(r * factor * 255);\n  g = Math.round(g * factor * 255);\n  b = Math.round(b * factor * 255);\n  return {\n    r,\n    g,\n    b\n  };\n}\n\n// Convert RGB to hex\nexport function rgbToHex(r, g, b) {\n  return '#' + [r, g, b].map(x => {\n    const hex = x.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n  }).join('');\n}\n\n// Get complementary color\nexport function getComplementaryRGB(r, g, b) {\n  return {\n    r: 255 - r,\n    g: 255 - g,\n    b: 255 - b\n  };\n}\n\n// Determine which color band a wavelength falls into\nexport function getColorBand(wavelength) {\n  for (const [name, range] of Object.entries(SPECTRUM_CONFIG)) {\n    if (wavelength >= range.min && wavelength < range.max) {\n      return name;\n    }\n  }\n  return null;\n}\n\n// Get observed color for absorbed wavelength\nexport function getObservedColor(wavelength, mode = 'ideal') {\n  const band = getColorBand(wavelength);\n  if (!band) return '#FFFFFF';\n  if (mode === 'ideal') {\n    return COMPLEMENTARY_COLORS[band].observed;\n  } else {\n    // Real mode: use complementary RGB\n    const absorbedRGB = wavelengthToRGB(wavelength);\n    const complementary = getComplementaryRGB(absorbedRGB.r, absorbedRGB.g, absorbedRGB.b);\n    return rgbToHex(complementary.r, complementary.g, complementary.b);\n  }\n}\n\n// Get absorbed color for wavelength\nexport function getAbsorbedColor(wavelength) {\n  const rgb = wavelengthToRGB(wavelength);\n  return rgbToHex(rgb.r, rgb.g, rgb.b);\n}\n\n// VIBGYOR colors for color disk\nexport const VIBGYOR_COLORS = [{\n  name: 'Violet',\n  color: '#8B00FF',\n  rgb: {\n    r: 139,\n    g: 0,\n    b: 255\n  }\n}, {\n  name: 'Indigo',\n  color: '#4B0082',\n  rgb: {\n    r: 75,\n    g: 0,\n    b: 130\n  }\n}, {\n  name: 'Blue',\n  color: '#0000FF',\n  rgb: {\n    r: 0,\n    g: 0,\n    b: 255\n  }\n}, {\n  name: 'Green',\n  color: '#00FF00',\n  rgb: {\n    r: 0,\n    g: 255,\n    b: 0\n  }\n}, {\n  name: 'Yellow',\n  color: '#FFFF00',\n  rgb: {\n    r: 255,\n    g: 255,\n    b: 0\n  }\n}, {\n  name: 'Orange',\n  color: '#FF8000',\n  rgb: {\n    r: 255,\n    g: 128,\n    b: 0\n  }\n}, {\n  name: 'Red',\n  color: '#FF0000',\n  rgb: {\n    r: 255,\n    g: 0,\n    b: 0\n  }\n}];\n\n// Mix colors based on enabled segments\nexport function mixColors(enabledColors, mode = 'ideal') {\n  if (enabledColors.length === 0) return '#000000';\n  if (enabledColors.length === 1) return enabledColors[0].color;\n  if (mode === 'ideal') {\n    // Proper additive color mixing - when all colors combine, should give white\n    let r = 0,\n      g = 0,\n      b = 0;\n    enabledColors.forEach(color => {\n      r += color.rgb.r;\n      g += color.rgb.g;\n      b += color.rgb.b;\n    });\n\n    // For additive mixing, we sum and cap at 255 (not average)\n    r = Math.min(255, r);\n    g = Math.min(255, g);\n    b = Math.min(255, b);\n    return rgbToHex(r, g, b);\n  } else {\n    // Real mode: RGB averaging\n    let r = 0,\n      g = 0,\n      b = 0;\n    enabledColors.forEach(color => {\n      r += color.rgb.r;\n      g += color.rgb.g;\n      b += color.rgb.b;\n    });\n    r = Math.round(r / enabledColors.length);\n    g = Math.round(g / enabledColors.length);\n    b = Math.round(b / enabledColors.length);\n    return rgbToHex(r, g, b);\n  }\n}\n\n// Get observed color when multiple wavelength ranges are absorbed\nexport function getObservedColorMultiRange(ranges, mode = 'ideal') {\n  if (!ranges || ranges.length === 0) return '#FFFFFF';\n\n  // For simplicity with multiple ranges, we'll blend the complementary colors\n  const complementaryColors = ranges.map(range => {\n    const midWavelength = (range.min + range.max) / 2;\n    return getObservedColor(midWavelength, mode);\n  });\n  if (complementaryColors.length === 1) return complementaryColors[0];\n\n  // Convert hex to RGB and average\n  let r = 0,\n    g = 0,\n    b = 0;\n  complementaryColors.forEach(hex => {\n    const rgb = hexToRgb(hex);\n    r += rgb.r;\n    g += rgb.g;\n    b += rgb.b;\n  });\n  r = Math.round(r / complementaryColors.length);\n  g = Math.round(g / complementaryColors.length);\n  b = Math.round(b / complementaryColors.length);\n  return rgbToHex(r, g, b);\n}\n\n// Convert hex to RGB\nexport function hexToRgb(hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : {\n    r: 0,\n    g: 0,\n    b: 0\n  };\n}\n\n// Educational examples\nexport const EXAMPLES = [{\n  name: 'β-Carotene',\n  wavelength: 450,\n  description: 'Absorbs blue (~450 nm)',\n  appearsColor: 'Orange',\n  appearsHex: '#FF8000'\n}, {\n  name: 'Chlorophyll-a',\n  wavelength: 430,\n  wavelength2: 662,\n  description: 'Absorbs blue (~430 nm) and red (~662 nm)',\n  appearsColor: 'Green',\n  appearsHex: '#00FF00'\n}, {\n  name: 'KMnO₄',\n  wavelength: 525,\n  description: 'Absorbs green (~525 nm)',\n  appearsColor: 'Purple',\n  appearsHex: '#FF00FF'\n}, {\n  name: 'Crystal Violet Dye',\n  wavelength: 420,\n  description: 'Absorbs yellow-green (~410–430 nm)',\n  appearsColor: 'Violet',\n  appearsHex: '#8B00FF'\n}, {\n  name: 'Dichromate Ion (Cr₂O₇²⁻)',\n  wavelength: 450,\n  description: 'Absorbs blue (~450 nm)',\n  appearsColor: 'Orange',\n  appearsHex: '#FF8000'\n}];","map":{"version":3,"names":["SPECTRUM_CONFIG","violet","min","max","color","blue","cyan","green","yellow","orange","red","COMPLEMENTARY_COLORS","absorbed","observed","wavelengthToRGB","wavelength","r","g","b","factor","Math","round","rgbToHex","map","x","hex","toString","length","join","getComplementaryRGB","getColorBand","name","range","Object","entries","getObservedColor","mode","band","absorbedRGB","complementary","getAbsorbedColor","rgb","VIBGYOR_COLORS","mixColors","enabledColors","forEach","getObservedColorMultiRange","ranges","complementaryColors","midWavelength","hexToRgb","result","exec","parseInt","EXAMPLES","description","appearsColor","appearsHex","wavelength2"],"sources":["/home/samito/ChemSim/src/utils/colorUtils.js"],"sourcesContent":["// Spectroscopy color utilities\n\n// Wavelength ranges for visible spectrum\nexport const SPECTRUM_CONFIG = {\n  violet: { min: 380, max: 450, color: '#8B00FF' },\n  blue: { min: 450, max: 495, color: '#0000FF' },\n  cyan: { min: 495, max: 520, color: '#00FFFF' },\n  green: { min: 520, max: 565, color: '#00FF00' },\n  yellow: { min: 565, max: 590, color: '#FFFF00' },\n  orange: { min: 590, max: 620, color: '#FF8000' },\n  red: { min: 620, max: 780, color: '#FF0000' }\n};\n\n// Complementary color relationships (ideal mode)\nexport const COMPLEMENTARY_COLORS = {\n  violet: { absorbed: '#8B00FF', observed: '#FFFF00' }, // Violet absorbs → Yellow observed\n  blue: { absorbed: '#0000FF', observed: '#FF8000' },    // Blue absorbs → Orange observed\n  cyan: { absorbed: '#00FFFF', observed: '#FF0000' },    // Cyan absorbs → Red observed\n  green: { absorbed: '#00FF00', observed: '#FF00FF' },   // Green absorbs → Magenta observed\n  yellow: { absorbed: '#FFFF00', observed: '#8B00FF' },  // Yellow absorbs → Violet observed\n  orange: { absorbed: '#FF8000', observed: '#0000FF' },  // Orange absorbs → Blue observed\n  red: { absorbed: '#FF0000', observed: '#00FFFF' }      // Red absorbs → Cyan observed\n};\n\n// Convert wavelength to RGB color\nexport function wavelengthToRGB(wavelength) {\n  let r = 0, g = 0, b = 0;\n  \n  if (wavelength >= 380 && wavelength < 440) {\n    r = -(wavelength - 440) / (440 - 380);\n    g = 0;\n    b = 1;\n  } else if (wavelength >= 440 && wavelength < 490) {\n    r = 0;\n    g = (wavelength - 440) / (490 - 440);\n    b = 1;\n  } else if (wavelength >= 490 && wavelength < 510) {\n    r = 0;\n    g = 1;\n    b = -(wavelength - 510) / (510 - 490);\n  } else if (wavelength >= 510 && wavelength < 580) {\n    r = (wavelength - 510) / (580 - 510);\n    g = 1;\n    b = 0;\n  } else if (wavelength >= 580 && wavelength < 645) {\n    r = 1;\n    g = -(wavelength - 645) / (645 - 580);\n    b = 0;\n  } else if (wavelength >= 645 && wavelength <= 780) {\n    r = 1;\n    g = 0;\n    b = 0;\n  }\n  \n  // Intensity correction for edge wavelengths\n  let factor = 1;\n  if (wavelength >= 380 && wavelength < 420) {\n    factor = 0.3 + 0.7 * (wavelength - 380) / (420 - 380);\n  } else if (wavelength >= 700 && wavelength <= 780) {\n    factor = 0.3 + 0.7 * (780 - wavelength) / (780 - 700);\n  }\n  \n  r = Math.round(r * factor * 255);\n  g = Math.round(g * factor * 255);\n  b = Math.round(b * factor * 255);\n  \n  return { r, g, b };\n}\n\n// Convert RGB to hex\nexport function rgbToHex(r, g, b) {\n  return '#' + [r, g, b].map(x => {\n    const hex = x.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n  }).join('');\n}\n\n// Get complementary color\nexport function getComplementaryRGB(r, g, b) {\n  return {\n    r: 255 - r,\n    g: 255 - g,\n    b: 255 - b\n  };\n}\n\n// Determine which color band a wavelength falls into\nexport function getColorBand(wavelength) {\n  for (const [name, range] of Object.entries(SPECTRUM_CONFIG)) {\n    if (wavelength >= range.min && wavelength < range.max) {\n      return name;\n    }\n  }\n  return null;\n}\n\n// Get observed color for absorbed wavelength\nexport function getObservedColor(wavelength, mode = 'ideal') {\n  const band = getColorBand(wavelength);\n  \n  if (!band) return '#FFFFFF';\n  \n  if (mode === 'ideal') {\n    return COMPLEMENTARY_COLORS[band].observed;\n  } else {\n    // Real mode: use complementary RGB\n    const absorbedRGB = wavelengthToRGB(wavelength);\n    const complementary = getComplementaryRGB(absorbedRGB.r, absorbedRGB.g, absorbedRGB.b);\n    return rgbToHex(complementary.r, complementary.g, complementary.b);\n  }\n}\n\n// Get absorbed color for wavelength\nexport function getAbsorbedColor(wavelength) {\n  const rgb = wavelengthToRGB(wavelength);\n  return rgbToHex(rgb.r, rgb.g, rgb.b);\n}\n\n// VIBGYOR colors for color disk\nexport const VIBGYOR_COLORS = [\n  { name: 'Violet', color: '#8B00FF', rgb: { r: 139, g: 0, b: 255 } },\n  { name: 'Indigo', color: '#4B0082', rgb: { r: 75, g: 0, b: 130 } },\n  { name: 'Blue', color: '#0000FF', rgb: { r: 0, g: 0, b: 255 } },\n  { name: 'Green', color: '#00FF00', rgb: { r: 0, g: 255, b: 0 } },\n  { name: 'Yellow', color: '#FFFF00', rgb: { r: 255, g: 255, b: 0 } },\n  { name: 'Orange', color: '#FF8000', rgb: { r: 255, g: 128, b: 0 } },\n  { name: 'Red', color: '#FF0000', rgb: { r: 255, g: 0, b: 0 } }\n];\n\n// Mix colors based on enabled segments\nexport function mixColors(enabledColors, mode = 'ideal') {\n  if (enabledColors.length === 0) return '#000000';\n  if (enabledColors.length === 1) return enabledColors[0].color;\n  \n  if (mode === 'ideal') {\n    // Proper additive color mixing - when all colors combine, should give white\n    let r = 0, g = 0, b = 0;\n    enabledColors.forEach(color => {\n      r += color.rgb.r;\n      g += color.rgb.g;\n      b += color.rgb.b;\n    });\n    \n    // For additive mixing, we sum and cap at 255 (not average)\n    r = Math.min(255, r);\n    g = Math.min(255, g);\n    b = Math.min(255, b);\n    \n    return rgbToHex(r, g, b);\n  } else {\n    // Real mode: RGB averaging\n    let r = 0, g = 0, b = 0;\n    enabledColors.forEach(color => {\n      r += color.rgb.r;\n      g += color.rgb.g;\n      b += color.rgb.b;\n    });\n    \n    r = Math.round(r / enabledColors.length);\n    g = Math.round(g / enabledColors.length);\n    b = Math.round(b / enabledColors.length);\n    \n    return rgbToHex(r, g, b);\n  }\n}\n\n// Get observed color when multiple wavelength ranges are absorbed\nexport function getObservedColorMultiRange(ranges, mode = 'ideal') {\n  if (!ranges || ranges.length === 0) return '#FFFFFF';\n  \n  // For simplicity with multiple ranges, we'll blend the complementary colors\n  const complementaryColors = ranges.map(range => {\n    const midWavelength = (range.min + range.max) / 2;\n    return getObservedColor(midWavelength, mode);\n  });\n  \n  if (complementaryColors.length === 1) return complementaryColors[0];\n  \n  // Convert hex to RGB and average\n  let r = 0, g = 0, b = 0;\n  complementaryColors.forEach(hex => {\n    const rgb = hexToRgb(hex);\n    r += rgb.r;\n    g += rgb.g;\n    b += rgb.b;\n  });\n  \n  r = Math.round(r / complementaryColors.length);\n  g = Math.round(g / complementaryColors.length);\n  b = Math.round(b / complementaryColors.length);\n  \n  return rgbToHex(r, g, b);\n}\n\n// Convert hex to RGB\nexport function hexToRgb(hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : { r: 0, g: 0, b: 0 };\n}\n\n// Educational examples\nexport const EXAMPLES = [\n  {\n    name: 'β-Carotene',\n    wavelength: 450,\n    description: 'Absorbs blue (~450 nm)',\n    appearsColor: 'Orange',\n    appearsHex: '#FF8000'\n  },\n  {\n    name: 'Chlorophyll-a',\n    wavelength: 430,\n    wavelength2: 662,\n    description: 'Absorbs blue (~430 nm) and red (~662 nm)',\n    appearsColor: 'Green',\n    appearsHex: '#00FF00'\n  },\n  {\n    name: 'KMnO₄',\n    wavelength: 525,\n    description: 'Absorbs green (~525 nm)',\n    appearsColor: 'Purple',\n    appearsHex: '#FF00FF'\n  },\n  {\n    name: 'Crystal Violet Dye',\n    wavelength: 420,\n    description: 'Absorbs yellow-green (~410–430 nm)',\n    appearsColor: 'Violet',\n    appearsHex: '#8B00FF'\n  },\n  {\n    name: 'Dichromate Ion (Cr₂O₇²⁻)',\n    wavelength: 450,\n    description: 'Absorbs blue (~450 nm)',\n    appearsColor: 'Orange',\n    appearsHex: '#FF8000'\n  }\n];\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}