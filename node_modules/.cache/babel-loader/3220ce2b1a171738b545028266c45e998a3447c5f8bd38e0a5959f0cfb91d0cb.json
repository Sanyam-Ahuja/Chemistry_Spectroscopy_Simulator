{"ast":null,"code":"var _jsxFileName = \"/home/samito/ChemSim/src/components/SpectrumBar.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { wavelengthToRGB, rgbToHex } from '../utils/colorUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SpectrumBar = ({\n  wavelength,\n  absorptionRanges = [],\n  onWavelengthClick\n}) => {\n  _s();\n  const canvasRef = React.useRef(null);\n  React.useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    const width = canvas.width;\n    const height = canvas.height;\n\n    // Draw spectrum gradient\n    for (let i = 0; i < width; i++) {\n      const wl = 380 + i / width * (780 - 380);\n      const rgb = wavelengthToRGB(wl);\n      ctx.fillStyle = rgbToHex(rgb.r, rgb.g, rgb.b);\n      ctx.fillRect(i, 0, 1, height);\n    }\n\n    // Draw absorption ranges if provided\n    if (absorptionRanges && absorptionRanges.length > 0) {\n      absorptionRanges.forEach(range => {\n        const xMin = (range.min - 380) / (780 - 380) * width;\n        const xMax = (range.max - 380) / (780 - 380) * width;\n\n        // Draw semi-transparent overlay\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.4)';\n        ctx.fillRect(xMin, 0, xMax - xMin, height);\n\n        // Draw borders\n        ctx.strokeStyle = '#000000';\n        ctx.lineWidth = 3;\n        ctx.beginPath();\n        ctx.moveTo(xMin, 0);\n        ctx.lineTo(xMin, height);\n        ctx.stroke();\n        ctx.beginPath();\n        ctx.moveTo(xMax, 0);\n        ctx.lineTo(xMax, height);\n        ctx.stroke();\n      });\n    }\n\n    // Draw single wavelength marker if provided\n    if (wavelength && wavelength >= 380 && wavelength <= 780 && (!absorptionRanges || absorptionRanges.length === 0)) {\n      const x = (wavelength - 380) / (780 - 380) * width;\n\n      // Draw marker line\n      ctx.strokeStyle = '#FFFFFF';\n      ctx.lineWidth = 3;\n      ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';\n      ctx.shadowBlur = 4;\n      ctx.beginPath();\n      ctx.moveTo(x, 0);\n      ctx.lineTo(x, height);\n      ctx.stroke();\n      ctx.shadowBlur = 0;\n\n      // Draw marker circle at top\n      ctx.fillStyle = '#FFFFFF';\n      ctx.beginPath();\n      ctx.arc(x, 10, 6, 0, 2 * Math.PI);\n      ctx.fill();\n      ctx.strokeStyle = '#000000';\n      ctx.lineWidth = 2;\n      ctx.stroke();\n    }\n  }, [wavelength, absorptionRanges]);\n  const handleClick = e => {\n    if (!onWavelengthClick) return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const wl = Math.round(380 + x / canvas.width * (780 - 380));\n    if (wl >= 380 && wl <= 780) {\n      onWavelengthClick(wl);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: 800,\n      height: 60,\n      className: \"w-full rounded-lg shadow-lg cursor-pointer border-2 border-white\",\n      onClick: handleClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between text-xs text-gray-700 font-semibold px-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"380 nm (Violet)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"780 nm (Red)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n_s(SpectrumBar, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n_c = SpectrumBar;\nexport default SpectrumBar;\nvar _c;\n$RefreshReg$(_c, \"SpectrumBar\");","map":{"version":3,"names":["React","wavelengthToRGB","rgbToHex","jsxDEV","_jsxDEV","SpectrumBar","wavelength","absorptionRanges","onWavelengthClick","_s","canvasRef","useRef","useEffect","canvas","current","ctx","getContext","width","height","i","wl","rgb","fillStyle","r","g","b","fillRect","length","forEach","range","xMin","min","xMax","max","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","x","shadowColor","shadowBlur","arc","Math","PI","fill","handleClick","e","rect","getBoundingClientRect","clientX","left","round","className","children","ref","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/samito/ChemSim/src/components/SpectrumBar.jsx"],"sourcesContent":["import React from 'react';\nimport { wavelengthToRGB, rgbToHex } from '../utils/colorUtils';\n\nconst SpectrumBar = ({ wavelength, absorptionRanges = [], onWavelengthClick }) => {\n  const canvasRef = React.useRef(null);\n  \n  React.useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    \n    const ctx = canvas.getContext('2d');\n    const width = canvas.width;\n    const height = canvas.height;\n    \n    // Draw spectrum gradient\n    for (let i = 0; i < width; i++) {\n      const wl = 380 + (i / width) * (780 - 380);\n      const rgb = wavelengthToRGB(wl);\n      ctx.fillStyle = rgbToHex(rgb.r, rgb.g, rgb.b);\n      ctx.fillRect(i, 0, 1, height);\n    }\n    \n    // Draw absorption ranges if provided\n    if (absorptionRanges && absorptionRanges.length > 0) {\n      absorptionRanges.forEach((range) => {\n        const xMin = ((range.min - 380) / (780 - 380)) * width;\n        const xMax = ((range.max - 380) / (780 - 380)) * width;\n        \n        // Draw semi-transparent overlay\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.4)';\n        ctx.fillRect(xMin, 0, xMax - xMin, height);\n        \n        // Draw borders\n        ctx.strokeStyle = '#000000';\n        ctx.lineWidth = 3;\n        ctx.beginPath();\n        ctx.moveTo(xMin, 0);\n        ctx.lineTo(xMin, height);\n        ctx.stroke();\n        ctx.beginPath();\n        ctx.moveTo(xMax, 0);\n        ctx.lineTo(xMax, height);\n        ctx.stroke();\n      });\n    }\n    \n    // Draw single wavelength marker if provided\n    if (wavelength && wavelength >= 380 && wavelength <= 780 && (!absorptionRanges || absorptionRanges.length === 0)) {\n      const x = ((wavelength - 380) / (780 - 380)) * width;\n      \n      // Draw marker line\n      ctx.strokeStyle = '#FFFFFF';\n      ctx.lineWidth = 3;\n      ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';\n      ctx.shadowBlur = 4;\n      ctx.beginPath();\n      ctx.moveTo(x, 0);\n      ctx.lineTo(x, height);\n      ctx.stroke();\n      ctx.shadowBlur = 0;\n      \n      // Draw marker circle at top\n      ctx.fillStyle = '#FFFFFF';\n      ctx.beginPath();\n      ctx.arc(x, 10, 6, 0, 2 * Math.PI);\n      ctx.fill();\n      ctx.strokeStyle = '#000000';\n      ctx.lineWidth = 2;\n      ctx.stroke();\n    }\n  }, [wavelength, absorptionRanges]);\n  \n  const handleClick = (e) => {\n    if (!onWavelengthClick) return;\n    \n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const wl = Math.round(380 + (x / canvas.width) * (780 - 380));\n    \n    if (wl >= 380 && wl <= 780) {\n      onWavelengthClick(wl);\n    }\n  };\n  \n  return (\n    <div className=\"space-y-2\">\n      <canvas\n        ref={canvasRef}\n        width={800}\n        height={60}\n        className=\"w-full rounded-lg shadow-lg cursor-pointer border-2 border-white\"\n        onClick={handleClick}\n      />\n      <div className=\"flex justify-between text-xs text-gray-700 font-semibold px-1\">\n        <span>380 nm (Violet)</span>\n        <span>780 nm (Red)</span>\n      </div>\n    </div>\n  );\n};\n\nexport default SpectrumBar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}